extends layout
block content
  main.content
    nav.navbar.navbar-expand-lg.shadow.p-2.mb-3.bg-white.bottom-shadow
      .container-fluid
        a.navbar-brand.text-dark(href='#' style= 'margin-right:70%') Welcome Back
        button.navbar-toggler(type='button' data-bs-toggle='collapse' data-bs-target='#navbarSupportedContent' aria-controls='navbarSupportedContent' aria-expanded='false' aria-label='Toggle navigation')
          span.navbar-toggler-icon
        #navbarSupportedContent.collapse.navbar-collapse
          ul.navbar-nav.me-auto.mb-2.mb-lg-0.ml-auto
            li.nav-item.dropdown(style="margin-left:auto ;")
              a.nav-link.dropdown-toggle.text-secondary(href='#' role='button' data-bs-toggle='dropdown' aria-expanded='false') #{loggedUser.firstname +" "+loggedUser.lastname}
              ul.dropdown-menu
                li
                  a.dropdown-item(href='#') Profile
                li
                  a.dropdown-item(href='#')
                li
                  form(method="POST" action='/logout')
                    button.btn(type= 'submit' width='100px') Signout
    #stat-container.container-fluid
      .card.bottom-shadow.border-color.ml-4.dashboard-card
        .card-body.m-1.p-2.pt-1.text-center
          p.card-text.p-0.m-2.text-muted(style='font-size:20px;font-weight: bold;') Total Produce Count
          img.card-logo.mb-2(src='../images/farm.png' alt='Ufarm logo')
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Hortculture:
            if (totalH == undefined)
              p 0
            else
              h5.card-title.text-muted.text-center.mt-0.pt-1(style='font-weight: bold;font-size:17px;') #{totalH.totalQuantity}
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Dairy Products:
            if (totalD == undefined)
              p 0
            else
              h5.card-title.text-muted.text-center.mt-0.pt-1.pl-4(style='font-weight: bold;font-size:17px;') #{totalD.totalQuantity}
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Poultry:
            if (totalP == undefined)
              p 0
            else
              h5.card-title.text-muted.text-center.mt-0.pt-1(style='font-weight: bold;font-size:17px;') #{totalP.totalQuantity}
          //- div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Total: 
            h5.card-title.text-muted.text-center.mt-0.pt-1(style='font-weight: bold;font-size:17px;') #{totalProduce}
      .card.bottom-shadow.border-color.ml-4.dashboard-card
        .card-body.m-1.p-2.pt-1.text-center
          p.card-text.p-0.m-2.text-muted(style='font-size:20px;font-weight: bold;') Total Revenue Count
          img.card-logo.mb-2(src='../images/money-bagg.png' alt='Ufarm logo')
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Hortculture:
            if (totalH == undefined)
              p 0
            else
              h5.card-title.text-muted.text-center.mt-0.pt-1(style='font-weight: bold;font-size:17px;') #{new Intl.NumberFormat().format(totalH.totalCost)} UGX
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Dairy Products:
            if (totalD == undefined)
              p 0
            else
              h5.card-title.text-muted.text-center.mt-0.pt-1.pl-4(style='font-weight: bold;font-size:17px;') #{new Intl.NumberFormat().format(totalD.totalCost)} UGX
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Poultry:
            if (totalP == undefined)
              p 0
            else
              h5.card-title.text-muted.text-center.mt-0.pt-1(style='font-weight: bold;font-size:17px;') #{new Intl.NumberFormat().format(totalP.totalCost)} UGX
      .card.bottom-shadow.border-color.ml-4.dashboard-card
        .card-body.m-1.p-2.pt-1.text-center
          p.card-text.p-0.m-2.text-muted(style='font-size:20px;font-weight: bold;') Total User Count
          img.card-logo.mb-2(src='../images/users.png' alt='Ufarm logo')
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Farmer Ones:
            h5.card-title.text-muted.text-center.mt-0.pt-1(style='font-weight: bold;font-size:17px;') #{totalFarmerOnes}
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Urban Farmers:
            h5.card-title.text-muted.text-center.mt-0.pt-1.pl-4(style='font-weight: bold;font-size:17px;') #{totalUbarnFarmers}
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') General Public:
            h5.card-title.text-muted.text-center.mt-0.pt-1(style='font-weight: bold;font-size:17px;') #{totalGeneralPublic}
          //- div.d-flex
          //-   p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Ward 4:
          //-   h5.card-title.text-muted.text-center.mt-0.pt-1(style='font-weight: bold;font-size:17px;') #{totalP.totalQuantity}
      .card.bottom-shadow.border-color.ml-4.dashboard-card
        .card-body.m-1.p-2.pt-1.text-center
          p.card-text.p-0.m-2.text-muted(style='font-size:20px;font-weight: bold;') Total Sales Count
          img.card-logo.mb-2(src='../images/groupsales.png' alt='Ufarm logo')
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Ward 1:
            if (sales1 == undefined)
              p 0
            else
              h5.card-title.text-muted.text-center.mt-0.pt-1(style='font-weight: bold;font-size:17px;') #{new Intl.NumberFormat().format(sales1.totalCost)} UGX 
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Ward 2:
            if (sales2 == undefined)
              p 0
            else
              h5.card-title.text-muted.text-center.mt-0.pt-1.pl-4(style='font-weight: bold;font-size:17px;') #{new Intl.NumberFormat().format(sales2.totalCost)} UGX
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Ward 3:
            if (sales3 == undefined)
              p 0
            else
              h5.card-title.text-muted.text-center.mt-0.pt-1(style='font-weight: bold;font-size:17px;') #{new Intl.NumberFormat().format(sales3.totalCost)} UGX
          div.d-flex
            p.card-text.text-muted.mb-0(style='font-size:18px; margin-right:5px') Ward 4:
            if (sales4 == undefined)
              p 0
            else
              h5.card-title.text-muted.text-center.mt-0.pt-1(style='font-weight: bold;font-size:17px;') #{new Intl.NumberFormat().format(sales4.totalCost)} UGX
    .container-fluid.stast-grid.mt-5
      .card(style='width: 260px; height: 300px;')
        | .
        h6.card-subtitle.mb-0.text-muted.text-center(style='font-size:large;') Farmers Per Ward in %
        .card-body
          .month-container.mb-4(style='margin-left: 0px;')
            .d-flex
              .box.mt-1(style='background-color: #fda500; margin-right: 4px')
              strong(style='font-size:12px;margin-right: 3px') Ward 1
            .d-flex
              .box.mt-1(style='background-color: #dc143b; margin-right: 4px')
              strong(style='font-size:12px;margin-right: 3px') Ward 2
            .d-flex
              .box.mt-1(style='background-color: #77cc6d; margin-right: 4px')
              strong(style='font-size:12px;margin-right: 3px') Ward 3
            .d-flex
              .box.mt-1(style='background-color: #3fe0d0; margin-right: 4px')
              strong(style='font-size:12px;margin-right: 3px') Ward 4
          .chart
      .card(style='width: 260px; height: 300px;')
        | .
        h6.card-subtitle.mb-0.text-muted.text-center(style='font-size:large;') Orders Per Ward in %
        .card-body
          .month-container.mb-4(style='margin-left: 0px;')
            .d-flex
              .box.mt-1(style='background-color: #fda500; margin-right: 4px')
              strong(style='font-size:12px;margin-right: 3px') Ward 1
            .d-flex
              .box.mt-1(style='background-color: #dc143b; margin-right: 4px')
              strong(style='font-size:12px;margin-right: 3px') Ward 2
            .d-flex
              .box.mt-1(style='background-color: #77cc6d; margin-right: 4px')
              strong(style='font-size:12px;margin-right: 3px') Ward 3
            .d-flex
              .box.mt-1(style='background-color: #3fe0d0; margin-right: 4px')
              strong(style='font-size:12px;margin-right: 3px') Ward 4
          .chart2
      .container
        .card.mt-0.ml-0(style='width:480px; height: 680px;')
          .card-body
            h5.card-title Recent Registered farmers 
            |             .
            table.table.table-hover
              thead
                tr
                  th(scope='col') No
                  th(scope='col') Name
                  th(scope='col') Ward
                  th(scope='col') Phone Number
              tbody
                if newFarmers.length 
                  each farmer, index in newFarmers
                    tr
                      td(scope='row')= index + 1
                      td #{farmer.lastname+ " "+farmer.firstname}
                      td #{farmer.ward}
                      td 0#{farmer.phonenumber}
      .container
        .card.mt-5.ml-0(style='width:530px; height: 330px;')
          .card-body
            h5.card-title Recent Suspended Users
            table.table.table-hover
              thead
                tr
                  th(scope='col') No
                  th(scope='col') Mame
                  th(scope='col') Ward
                  th(scope='col') Role
                  th(scope='col') Phone Number
              tbody
                if inactiveFarmers.length 
                  each suspendedFarmer, index in inactiveFarmers
                    tr
                      th(scope='row')= index + 1
                      td #{suspendedFarmer.lastname+ " "+suspendedFarmer.firstname}
                      td #{suspendedFarmer.ward}
                      td #{suspendedFarmer.role}
                      td 0#{suspendedFarmer.phonenumber}
    //- .container
      .card.mt-5(style='width: 100%;')
        .card-body
          h5.card-title Recent FO Activities
          table.table.table-hover
            thead
              tr
                th(scope='col') Number
                th(scope='col') Name
                th(scope='col') Ward
                th(scope='col') Email
                th(scope='col') Phone No
            tbody
              tr
                th(scope='row') 1
                td Mark
                td Otto
                td @mdo
                td @mdo
              tr
                th(scope='row') 2
                td Jacob
                td Thornton
                td @fat
                td @mdo
              tr
                th(scope='row') 3
                td(colspan='2') Larry the Bird
                td @twitter
                td @mdo
  block footer
  script(src='bootstrap-js/js/bootstrap.bundle.js')
